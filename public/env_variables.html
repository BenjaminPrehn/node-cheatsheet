<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Change Titel -->
    <title>Node.js - Cheatsheet</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="css/sidenav.css" />

    <!-- Prism used for code highligting -->
    <link rel="stylesheet" type="text/css" href="css/prism.css" />


    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

  </head>
  <body>

    <div class="d-flex" id="wrapper">
  
      <!-- START Sidebar -->
      <div class="bg-light border-right" id="sidebar-wrapper">
        <div class="sidebar-heading" style="font-weight: bold;">Node.js Cheatsheet</div>
        <div class="list-group list-group-flush">
          <a href="/" class="list-group-item list-group-item-action bg-light">Get started with Node.js</a>
        </div>
        <div class="sidebar-heading" style="font-weight: bold;">How to:</div>
        <div class="list-group list-group-flush">
            <a href="nodemon" class="list-group-item list-group-item-action bg-light">Setup Nodemon</a>
            <a href="routes" class="list-group-item list-group-item-action bg-light">Setup routes</a>
            <a href="variables" class="list-group-item list-group-item-action bg-light">Use Enviroment Variables</a>
            <a href="script" class="list-group-item list-group-item-action bg-light">Create a script</a>
            <a href="static" class="list-group-item list-group-item-action bg-light">Access CSS and JS files</a>
            <a href="api" class="list-group-item list-group-item-action bg-light">Create a Rest API</a>
          </div>
      </div>
      <!-- END Sidebar -->
  
      <!-- Page Content -->
      <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-6">
                   <h1>How to use enviroment variables</h1>
                    <p>Inside the app.js file - We have currently setup our node server to listen on port 8080. 
                        But this have been hardcoded into our app.listen function which is not very production friendly. 
                        We would rather have the port inside a enviroment variable to make it easier for outcomers to see how to change the port when running our code.
                        This can be done by doing a little modification on our current app.js code. Below you can see how the code currently looks:
                    </p>
                    <p>app.js - Currently: </p>
                    <pre>
                        <code class="language-javascript">
const express = require('express');
const app = express();

app.listen(8080, (error) => {
    if (error){
        console.log(error);
    }
    console.log("Server is running on port", 8080)
});
                        </code> 
                    </pre>
                    <p>By creating a variable for our port, we can keep it at the top of our document and therefore make it easy for other users to see where to change it, 
                        and also minimize the chance of any errors if we need to use the port anywhere else in our code.
                    </p>
                    <p>app.js - witg enviroment variable: </p>
                    <pre>
                        <code class="language-javascript">
const express = require('express');
const app = express();
const PORT = process.env.PORT || 8080;

app.listen(PORT, (error) => {
    if (error){
        console.log(error);
    }
    console.log("Server is running on port", Number(PORT))
});
                        </code> 
                    </pre>
                    <p>Now a user is able to decide what port to use when running the server by using the writting the following command in the terminal:</p>
                    <p>Terminal Command: </p>
                    <pre>
                        <code class="language-json">
PORT=4000 nodemon app.js
                        </code> 
                    </pre>
                    <p>With the above code the user decided to run the node server on port 4000 - But if no port is selected when running the server will run on port 8080, since it's the fallback which is specified inside our PORT variable.</p>
                </div>
            </div>
      </div>
      <!-- /#page-content-wrapper -->
  
    </div>
    <!-- /#wrapper -->
  
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    
    <!-- Prism used for code highligting -->
    <script src="js/prism.js" type="text/javascript"></script>
  </body>
</html>